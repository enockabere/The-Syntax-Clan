{% load static %}
<div class="main-sidebar sidebar-style-2">
  <aside id="sidebar-wrapper">
    <div class="sidebar-brand">
      <img src="{% static 'img/logo/lighting.png' %}" class="logo img-fluid img-responsive" alt="logo" height="40"
        width="40" srcset="">
    </div>
    <div class="sidebar-brand sidebar-brand-sm">
      <a href="{% url 'dashboard' %}">VMD</a>
    </div>
    <ul class="sidebar-menu" id="sidenav-list">
      <li class="sidebar-link"><a class="nav-link" href="{% url 'dashboard' %}"><i class="fas fa-th"></i> <span>General
            Dashboard</span></a>
      </li>
      <li class="menu-header">User Management</li>
      <li class="sidebar-link dropdown">
        <a href="#" class="nav-link has-dropdown"><i class="fas fa-users"></i> <span>Manage Users</span></a>
        <ul class="dropdown-menu">
          <li><a class="nav-link" href="">Users Dashboard</a></li>
          <li><a class="nav-link" href="{% url 'roles' %}">Role Center</a></li>
          <li><a class="nav-link" href="{% url 'admin_all_users' %}">All Users</a></li>

        </ul>
      </li>
      <li class="menu-header">Other</li>
      <li class="sidebar-link"><a class="nav-link" href=""><i class="fas fa-ellipsis-h"></i>
          <span>FAQs</span></a>
      </li>
      <li><a class="nav-link" href="{% url 'logout' %}"><i class="fas fa-sign-out-alt"></i>
          <span>Logout</span></a>
      </li>
    </ul>

    <div class="mt-4 mb-4 p-3 hide-sidebar-mini">
      <a href="#" class="btn btn-primary btn-lg btn-block btn-icon-split">
        <i class="fas fa-rocket"></i> Documentation
      </a>
    </div>
  </aside>
</div>

<script>
  links = document.getElementsByClassName("sidebar-link")
  currentLink = window.location.pathname

  for (let x = 0; x < links.length; x++) {

    if (links[x].children[0].getAttribute("href") === currentLink) {
      links[x].classList.add("active")
    }

    if (links[x].classList.contains("dropdown")) {
      dropdownlinks = links[x].children[1].children
      for (let y = 0; y < dropdownlinks.length; y++) {
        if (dropdownlinks[y].children[0].getAttribute("href") === currentLink) {
          dropdownlinks[y].classList.add("active")
          links[x].classList.add("active")
        }
      }
    }
  }
</script>